SELECT * FROM information_schema.feedback
WHERE variable_name like '%Acl%';
VARIABLE_NAME	VARIABLE_VALUE
ACL_COUNT_COLUMN_GRANTS	0
ACL_COUNT_DATABASE_GRANTS	2
ACL_COUNT_FUNCTION_GRANTS	0
ACL_COUNT_PROCEDURE_GRANTS	0
ACL_COUNT_PROXY_USERS	2
ACL_COUNT_ROLE_MAPPINGS	0
ACL_COUNT_ROLES	0
ACL_COUNT_TABLE_GRANTS	0
ACL_COUNT_USERS	4
SELECT count(*) COLUMN_GRANTS_COUNT from mysql.columns_priv;
COLUMN_GRANTS_COUNT
0
SELECT count(*) DATABASE_GRANTS_COUNT from mysql.db;
DATABASE_GRANTS_COUNT
2
SELECT count(*) FUNCTION_GRANTS_COUNT from mysql.procs_priv where routine_type='FUNCTION';
FUNCTION_GRANTS_COUNT
0
SELECT count(*) PROCEDURE_GRANTS_COUNT from mysql.procs_priv where routine_type='PROCEDURE';
PROCEDURE_GRANTS_COUNT
0
SELECT count(*) PROXY_USERS from mysql.proxies_priv;
PROXY_USERS
2
SELECT count(*) ROLE_GRANTS_COUNT from mysql.user where is_role='Y';
ROLE_GRANTS_COUNT
0
SELECT count(*) ROLE_MAPPINGS_COUNT from mysql.roles_mapping;
ROLE_MAPPINGS_COUNT
0
SELECT count(*) TABLE_GRANTS_COUNT from mysql.tables_priv;
TABLE_GRANTS_COUNT
0
SELECT count(*) USERS_COUNT from mysql.user where is_role='N';
USERS_COUNT
4
CREATE USER u1;
CREATE ROLE r1;
CREATE ROLE r2;
GRANT PROXY ON root TO u1;
GRANT SELECT ON *.* to u1;
GRANT SELECT ON *.* to r1;
GRANT DELETE ON mysql.* to u1;
GRANT DELETE ON mysql.* to r1;
GRANT INSERT ON mysql.user to u1;
GRANT INSERT ON mysql.user to r1;
GRANT UPDATE (host) ON mysql.user to u1;
GRANT UPDATE (host) ON mysql.user to r1;
GRANT r1 to u1;
GRANT r2 to r1;
create procedure mysql.test_proc (OUT param1 INT)
begin
select COUNT(*) into param1 from mysql.roles_mapping;
end|
GRANT EXECUTE ON PROCEDURE mysql.test_proc TO r1;
GRANT EXECUTE ON PROCEDURE mysql.test_proc TO u1;
CREATE FUNCTION mysql.test_func (param INT) RETURNS INT
RETURN (SELECT COUNT(*) FROM mysql.user);
GRANT EXECUTE ON FUNCTION mysql.test_func TO r1;
GRANT EXECUTE ON FUNCTION mysql.test_func TO u1;
SELECT * FROM information_schema.feedback
WHERE variable_name like '%Acl%';
VARIABLE_NAME	VARIABLE_VALUE
ACL_COUNT_COLUMN_GRANTS	2
ACL_COUNT_DATABASE_GRANTS	4
ACL_COUNT_FUNCTION_GRANTS	2
ACL_COUNT_PROCEDURE_GRANTS	2
ACL_COUNT_PROXY_USERS	3
ACL_COUNT_ROLE_MAPPINGS	4
ACL_COUNT_ROLES	2
ACL_COUNT_TABLE_GRANTS	2
ACL_COUNT_USERS	5
SELECT count(*) COLUMN_GRANTS_COUNT from mysql.columns_priv;
COLUMN_GRANTS_COUNT
2
SELECT count(*) DATABASE_GRANTS_COUNT from mysql.db;
DATABASE_GRANTS_COUNT
4
SELECT count(*) FUNCTION_GRANTS_COUNT from mysql.procs_priv where routine_type='FUNCTION';
FUNCTION_GRANTS_COUNT
2
SELECT count(*) PROCEDURE_GRANTS_COUNT from mysql.procs_priv where routine_type='PROCEDURE';
PROCEDURE_GRANTS_COUNT
2
SELECT count(*) PROXY_USERS from mysql.proxies_priv;
PROXY_USERS
3
SELECT count(*) ROLE_GRANTS_COUNT from mysql.user where is_role='Y';
ROLE_GRANTS_COUNT
2
SELECT count(*) ROLE_MAPPINGS_COUNT from mysql.roles_mapping;
ROLE_MAPPINGS_COUNT
4
SELECT count(*) TABLE_GRANTS_COUNT from mysql.tables_priv;
TABLE_GRANTS_COUNT
2
SELECT count(*) USERS_COUNT from mysql.user where is_role='N';
USERS_COUNT
5
DROP PROCEDURE mysql.test_proc;
DROP FUNCTION mysql.test_func;
DROP ROLE r2;
DROP ROLE r1;
DROP USER u1;
